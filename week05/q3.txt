答：在日志收集处理过程中可以使用rabbitmq,主要解决从多个源收集日志数据的问题，并且作为一个不是很强调事务一致性的用途使用，起到削锋的一个作用。

避免重复投递或消费：
可以给每个日志文件发送的消息编上行号，消费者就知道是否有重复消费了。这样的话重复投递也不要紧

交换机 fanout、direct、topic 有什么区别：
1. direct:生产者和消费者一一对应
2. topic:多个交换机到一个队列
3. fanout:一个生产者可以对应多个队列

架构中引入消息队列是否利大于弊？你认为消息队列有哪些缺点？
利大于弊，日志的收集本身就独立于应用交易，不会影响。降低了耦合度，并且容易扩展加入其它的日志源。缺点主要在于监控比较不方便，对于丢失的情况很难进行排查。